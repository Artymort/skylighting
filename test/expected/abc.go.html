<div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span class="kw">package</span> main

<span class="kw">import</span> (
        <span class="st">&quot;fmt&quot;</span>
        <span class="st">&quot;strings&quot;</span>
)

<span class="kw">func</span> newSpeller(blocks <span class="dt">string</span>) <span class="kw">func</span>(<span class="dt">string</span>) <span class="dt">bool</span> {
        bl := strings.Fields(blocks)
        <span class="kw">return</span> <span class="kw">func</span>(word <span class="dt">string</span>) <span class="dt">bool</span> {
                <span class="kw">return</span> r(word, bl)
        }
}

<span class="kw">func</span> r(word <span class="dt">string</span>, bl []<span class="dt">string</span>) <span class="dt">bool</span> {
        <span class="kw">if</span> word == <span class="st">&quot;&quot;</span> {
                <span class="kw">return</span> <span class="ot">true</span>
        }
        c := word[<span class="dv">0</span>] | <span class="dv">32</span>
        <span class="kw">for</span> i, b := <span class="kw">range</span> bl {
                <span class="kw">if</span> c == b[<span class="dv">0</span>]|<span class="dv">32</span> || c == b[<span class="dv">1</span>]|<span class="dv">32</span> {
                        bl[i], bl[<span class="dv">0</span>] = bl[<span class="dv">0</span>], b
                        <span class="kw">if</span> r(word[<span class="dv">1</span>:], bl[<span class="dv">1</span>:]) == <span class="ot">true</span> {
                                <span class="kw">return</span> <span class="ot">true</span>
                        }
                        bl[i], bl[<span class="dv">0</span>] = bl[<span class="dv">0</span>], bl[i]
                }
        }
        <span class="kw">return</span> <span class="ot">false</span>
}

<span class="kw">func</span> main() {
        sp := newSpeller(
                <span class="st">&quot;BO XK DQ CP NA GT RE TG QD FS JW HU VI AN OB ER FS LY PC ZM&quot;</span>)
        <span class="kw">for</span> _, word := <span class="kw">range</span> []<span class="dt">string</span>{
                <span class="st">&quot;A&quot;</span>, <span class="st">&quot;BARK&quot;</span>, <span class="st">&quot;BOOK&quot;</span>, <span class="st">&quot;TREAT&quot;</span>, <span class="st">&quot;COMMON&quot;</span>, <span class="st">&quot;SQUAD&quot;</span>, <span class="st">&quot;CONFUSE&quot;</span>} {
                fmt.Println(word, sp(word))
        }
}</code></pre></div>
